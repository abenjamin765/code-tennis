!function(e,t,s,n,a,o,l,c,i,d){e(function(){var c="zenburn",d=3,r=i.getElementById("areaCSS"),h=i.getElementById("areaHTML"),m=i.getElementById("areaJS"),p=i.getElementById("style"),u=i.getElementById("script"),f=i.getElementById("view"),g=f.contentDocument||f.contentWindow.document,C=g.getElementsByTagName("body")[0],w=g.getElementsByTagName("head")[0],v=e("#showCSS"),k=e("#showJS"),b=e("#showHTML"),y=e(".closePanel"),B=e("#cssSelect"),T=e("#htmlSelect"),S={css:"css",html:"text/html",js:"javascript"};B.on("change",function(){var t=e(this),s=t.val();S.css=s,I.setOption("mode",S.css)}),T.on("change",function(){var t=e(this),s=t.val();S.html=s,j.setOption("mode",S.html)});var I=t.fromTextArea(r,{lineNumbers:!0,theme:c,indentUnit:2,smartIndent:!0,tabSize:2,mode:S.css,matchBrackets:!0,autoCloseBrackets:!0,indentWithTabs:!1,keyMap:"sublime"});Inlet(I);var j=t.fromTextArea(h,{lineNumbers:!0,theme:c,indentUnit:2,smartIndent:!0,tabSize:2,mode:S.html,matchBrackets:!0,autoCloseTags:!0,autoCloseBrackets:!0,indentWithTabs:!1,keyMap:"sublime"}),E=t.fromTextArea(m,{lineNumbers:!0,theme:c,indentUnit:2,smartIndent:!0,tabSize:2,mode:S.js,matchBrackets:!0,autoCloseBrackets:!0,indentWithTabs:!1,keyMap:"sublime"});C.appendChild(u),w.appendChild(p),I.on("update",function(e){p.remove();var t=e.doc.getValue();if(t="css"===S.css?e.doc.getValue():o.compile(t),"text/x-less"===S.css)a.render(e.doc.getValue(),function(e,s){if(!e){t=s.css;var n=l().process(t);p.innerHTML=n,w.appendChild(p)}});else{var s=l().process(t);p.innerHTML=s,w.appendChild(p)}}),E.on("update",function(e){u.remove(),u=i.createElement("script"),u.innerHTML=e.doc.getValue(),C.appendChild(u)}),j.on("update",function(t){u.remove();var a=t.doc.getValue(),o="jade"===S.html?n.compile(a):a;o="haml"===S.html?s(o):o,e(C).html(o),C.appendChild(u)}),v.on("change",function(){if(e(".panel.css").hasClass("closed"))d++;else{if(2>d)return!1;d--}e(".panel.css").toggleClass("closed")}),k.on("change",function(){if(e(".panel.js").hasClass("closed"))d++;else{if(2>d)return!1;d--}e(".panel.js").toggleClass("closed")}),b.on("change",function(){if(e(".panel.html").hasClass("closed"))d++;else{if(2>d)return!1;d--}e(".panel.html").toggleClass("closed")}),y.on("click",function(){if(e(this).closest(".panel").hasClass("closed"))d++;else{if(2>d)return!1;d--}e(this).closest(".panel").toggleClass("closed");var t;e(this).closest(".panel").hasClass("css")?(t=v.prop("checked"),v.prop("checked",!t)):e(this).closest(".panel").hasClass("js")?(t=k.prop("checked"),k.prop("checked",!t)):e(this).closest(".panel").hasClass("html")&&(t=b.prop("checked"),b.prop("checked",!t))}),e(".button").on("mousedown click moseup",function(t){var s=e(this).attr("for"),n=e("#"+s);return n.prop("checked")&&2>d?(t.preventDefault,!1):void 0}),e("body").addClass("loaded")})}(window.jQuery,window.CodeMirror,window.Haml,window.jade,window.less,window.Sass,window.autoprefixer,window,document);